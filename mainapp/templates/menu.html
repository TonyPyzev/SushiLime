{% extends 'base.html' %}
{% load static i18n %}
{% load static %}

{% block content %}
<div id="topPanel">
    <a href="javascript:history.back();">
        <svg width="25" height="22" viewBox="0 0 25 22" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.44172 1L1.44172 10C1.24856 10.1932 1.01063 10.5654 1.00035 11M8.44172 21C6.44172 18.3333 2.24172 12.8 1.44172 12C1.1053 11.6636 0.992882 11.3154 1.00035 11M1.00035 11H24.4417" stroke="#505050" stroke-width="2"/>
        </svg>
    </a>
    <h2>{{ title }}</h2>
</div>

<section id="card-section">
    <div class="card-container">
        {% for el in sets %}
            {% if el.isSale == False %}
                <div class="card">
                    <div class="img-container">
                        <img src="{{ el.image.url }}" alt="">
                    </div>
                    <div class="product-name"  onclick="openLink( '{{ el.get_absolute_url }}' )">
                        <p>{{ el.title}}</p>
                    </div>
                    <div class="product-info">
                        <div class="product-parameters">
                            {% if el.category_id == salads.id or el.category_id == drinks.id %}
                                <p>{{ el.weight }} <span>{% trans 'г.' %}</span></p>
                                <p><span></span></p>
                            {% else %}
                                <p>{{ el.pieces }} <span>{% trans 'шт.' %}</span></p>
                                <p>{{ el.weight }} <span>{% trans 'г.' %}</span></p>
                            {% endif %}
                        </div>
                        <div class="product-price">
                            <p>{{ el.price }} <span>₴</span></p>
                        </div>
                    </div>
                    <div onclick="cart.add('{{ el.id }}')", class="add-btn">
                        <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 3.87507C14.4723 3.87507 13.4867 4.28332 12.76 5.01003C12.0333 5.73673 11.625 6.72235 11.625 7.75007H19.375C19.375 6.72235 18.9668 5.73673 18.2401 5.01003C17.5134 4.28332 16.5277 3.87507 15.5 3.87507ZM21.9584 7.75007C21.9584 6.03721 21.2779 4.39451 20.0668 3.18333C18.8556 1.97216 17.2129 1.29173 15.5 1.29173C13.7872 1.29173 12.1445 1.97216 10.9333 3.18333C9.72212 4.39451 9.04169 6.03721 9.04169 7.75007H6.59398C6.23306 7.75008 5.87615 7.82572 5.54626 7.97211C5.21636 8.1185 4.9208 8.33239 4.67863 8.6C4.43645 8.86761 4.25304 9.18299 4.14022 9.52582C4.02739 9.86865 3.98765 10.2313 4.02356 10.5904L5.15377 21.8951L4.20956 26.6187C4.13468 26.9934 4.14383 27.38 4.23634 27.7506C4.32886 28.1213 4.50245 28.4669 4.74459 28.7624C4.98674 29.0579 5.29141 29.296 5.63667 29.4596C5.98193 29.6232 6.35918 29.7082 6.74123 29.7084H24.2575C24.6397 29.7084 25.0171 29.6235 25.3625 29.46C25.7079 29.2965 26.0128 29.0584 26.255 28.7629C26.4973 28.4673 26.671 28.1217 26.7636 27.751C26.8562 27.3802 26.8654 26.9935 26.7905 26.6187L25.8463 21.8951L26.9765 10.5904C27.0124 10.2313 26.9727 9.86865 26.8598 9.52582C26.747 9.18299 26.5636 8.86761 26.3214 8.6C26.0792 8.33239 25.7837 8.1185 25.4538 7.97211C25.1239 7.82572 24.767 7.75008 24.4061 7.75007H21.9584ZM10.3334 10.3334H6.59398L7.74356 21.8292L7.76294 22.023L7.72419 22.2116L6.74252 27.1251H24.2575L23.2759 22.2116L23.2371 22.0217L23.2565 21.8305L24.4061 10.3334L25.6913 10.4626L24.4061 10.3334H10.3334ZM9.04169 21.9584C9.04169 21.6158 9.17777 21.2873 9.42001 21.045C9.66224 20.8028 9.99078 20.6667 10.3334 20.6667H20.6667C21.0093 20.6667 21.3378 20.8028 21.58 21.045C21.8223 21.2873 21.9584 21.6158 21.9584 21.9584C21.9584 22.301 21.8223 22.6295 21.58 22.8717C21.3378 23.114 21.0093 23.2501 20.6667 23.2501H10.3334C9.99078 23.2501 9.66224 23.114 9.42001 22.8717C9.17777 22.6295 9.04169 22.301 9.04169 21.9584Z" fill="#FFFFFF"/>
                        </svg>
                    </div>
                    <hr>    
                </div>
            {% else %}
                <div class="card-sale">
                    <div class="img-container">
                        <img src="{{ el.image.url }}" alt="">
                    </div>
                    <div class="product-name"  onclick="openLink( '{{ el.get_absolute_url }}' )">
                        <p>{{ el.title }}</p>
                    </div>
                    <div class="product-info">
                        <div class="product-parameters">
                            {% if el.category_id == salads.id or el.category_id == drinks.id %}
                                <p>{{ el.weight }} <span>{% trans 'г.' %}</span></p>
                                <p><span></span></p>
                            {% else %}
                                <p>{{ el.pieces }} <span>{% trans 'шт.' %}</span></p>
                                <p>{{ el.weight }} <span>{% trans 'г.' %}</span></p>
                            {% endif %}
                        </div>
                        <div class="product-price">
                            <p>{{ el.oldPrice }} <span>₴</span></p>
                            <p>{{ el.price }} <span>₴</span></p>
                        </div>
                    </div>
                    <div class="discount">
                        <p>-{{el.discount}}%</p>
                    </div>
                    <div onclick="cart.add('{{ el.id }}')", class="add-btn">
                        <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 3.87507C14.4723 3.87507 13.4867 4.28332 12.76 5.01003C12.0333 5.73673 11.625 6.72235 11.625 7.75007H19.375C19.375 6.72235 18.9668 5.73673 18.2401 5.01003C17.5134 4.28332 16.5277 3.87507 15.5 3.87507ZM21.9584 7.75007C21.9584 6.03721 21.2779 4.39451 20.0668 3.18333C18.8556 1.97216 17.2129 1.29173 15.5 1.29173C13.7872 1.29173 12.1445 1.97216 10.9333 3.18333C9.72212 4.39451 9.04169 6.03721 9.04169 7.75007H6.59398C6.23306 7.75008 5.87615 7.82572 5.54626 7.97211C5.21636 8.1185 4.9208 8.33239 4.67863 8.6C4.43645 8.86761 4.25304 9.18299 4.14022 9.52582C4.02739 9.86865 3.98765 10.2313 4.02356 10.5904L5.15377 21.8951L4.20956 26.6187C4.13468 26.9934 4.14383 27.38 4.23634 27.7506C4.32886 28.1213 4.50245 28.4669 4.74459 28.7624C4.98674 29.0579 5.29141 29.296 5.63667 29.4596C5.98193 29.6232 6.35918 29.7082 6.74123 29.7084H24.2575C24.6397 29.7084 25.0171 29.6235 25.3625 29.46C25.7079 29.2965 26.0128 29.0584 26.255 28.7629C26.4973 28.4673 26.671 28.1217 26.7636 27.751C26.8562 27.3802 26.8654 26.9935 26.7905 26.6187L25.8463 21.8951L26.9765 10.5904C27.0124 10.2313 26.9727 9.86865 26.8598 9.52582C26.747 9.18299 26.5636 8.86761 26.3214 8.6C26.0792 8.33239 25.7837 8.1185 25.4538 7.97211C25.1239 7.82572 24.767 7.75008 24.4061 7.75007H21.9584ZM10.3334 10.3334H6.59398L7.74356 21.8292L7.76294 22.023L7.72419 22.2116L6.74252 27.1251H24.2575L23.2759 22.2116L23.2371 22.0217L23.2565 21.8305L24.4061 10.3334L25.6913 10.4626L24.4061 10.3334H10.3334ZM9.04169 21.9584C9.04169 21.6158 9.17777 21.2873 9.42001 21.045C9.66224 20.8028 9.99078 20.6667 10.3334 20.6667H20.6667C21.0093 20.6667 21.3378 20.8028 21.58 21.045C21.8223 21.2873 21.9584 21.6158 21.9584 21.9584C21.9584 22.301 21.8223 22.6295 21.58 22.8717C21.3378 23.114 21.0093 23.2501 20.6667 23.2501H10.3334C9.99078 23.2501 9.66224 23.114 9.42001 22.8717C9.17777 22.6295 9.04169 22.301 9.04169 21.9584Z" fill="#FFFFFF"/>
                        </svg>
                    </div>
                    <hr>    
                </div>
            {% endif %}
        {% endfor %}
    </div>
</section>
{% endblock%}

{% block script %}
<script src="{% static 'js/script.js' %}"></script>
<script src="{% static 'js/alert.js' %}"></script>
{% endblock %}